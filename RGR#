using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace work
{
    class c10to7
    {
        string firstn = "None";
        public c10to7(string number) // конструктор по-умолчанию
        {
           this.firstn = number;
        }
        public string from10to7 (string number)
        {
            string rest = "";
            int num_int = Convert.ToInt32(firstn);
            while (num_int != 0)
            {
                rest = rest + Convert.ToString((num_int) % 7);
                num_int = num_int / 7;
            }
            rest = Reverse(rest);
            return (rest);
        }
        public string show() 
        {
            foreach (char elment in firstn)
                if ((elment < 48) || (elment > 57))
                    return "Неверный формат числа\n";
            return from10to7(firstn);
        }
        public string type() 
        {
            if (this.show() == "Неверный формат числа\n")// проверка на исключения через предыдущий метод
                return "Неверный формат числа\n";

            int sum = 0;
            int num = Convert.ToInt32(from10to7(firstn));
            foreach (int number in from10to7(firstn))//нужно узнать длину преобразованного числа и пройтись по нему
            {
                sum += num % 10;
                num /= 10;
            }
            if (sum % 2 == 0)
                return "Чётное";
            else
                return "Нечётное";
        }
        private string Reverse(string line)
        {
            char[] arr = line.ToCharArray();
            Array.Reverse(arr);
            return new string(arr);
        }// метод для разворота строки 
    }
    class Program
    {
        static void Main()
        {
            Console.WriteLine("Выполнял работу: ");
            Console.WriteLine("Группа: ИС-29");
            Console.WriteLine("Задание: Напишите класс c10to7, конвертирующий из системы счисления 10 в систему счисления 7, определяющий является ли число чётным или нечётным.");
            string number;
            Console.WriteLine("Введите число для преобразования: ");
            number = Console.ReadLine();
            c10to7 test = new c10to7(number);
            Console.WriteLine(test.show() + "\n" + test.type() + "\n");
            Console.ReadKey();
        }
    }
}
